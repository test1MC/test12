<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="6" MadCap:lastHeight="4082" MadCap:lastWidth="637">
    <head>
    </head>
    <body>
        <h1>Lane Method vs. Rolling Ball from ImageJ</h1>
        <p>The <MadCap:snippetText src="../Resources/Snippets/Lane.flsnp" /> background subtraction method and ImageJ <MadCap:snippetText src="../Resources/Snippets/Rolling_ball.flsnp" /> method use very different algorithms to subtract background from a <i>lane</i>. <MadCap:snippetText src="../Resources/Snippets/Rolling_ball.flsnp" /> can also be used to subtract background from an <i>entire image</i>, although this is discouraged.<sup>*</sup></p>
        <p class="lilCite"><sup>*</sup>Gassman, M, B Grenacher, B Rohde, and J Vogel. <i>Electrophoresis</i> 30:1845-55 (2009).</p>
        <p class="lilCiteBottom"><a href="http://www.ncbi.nlm.nih.gov/pubmed/19517440"><span class="hyperLink">http://www.ncbi.nlm.nih.gov/pubmed/19517440</span></a>
        </p>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>Lane Background (Image Studio Software)</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <div class="dFloRig_12ptPadTopLefBot" MadCap:conditions="Default.BackgroundGuide">
                    <img src="../Resources/Images/LaneProfileExample.png" class="width050pct" />
                    <p class="figure" style="width: 3.0in;"><a name="LaneProfileExample"></a>. The relationship between a graphical representation of a lane profile (Pixel Location vs Pixel Intensity) and the image of the lane from a Western blot is shown.</p>
                </div>
                <p>To begin the <MadCap:snippetText src="../Resources/Snippets/Lane.flsnp" /> background subtraction algorithm, the average pixel intensity of each row of pixels in a lane is calculated to establish a "lane profile". The lane profile is used to find areas of minimum pixel intensity between shapes, called "local minima". <MadCap:xref href="#LaneProfileExample" class="XreftoParanum" MadCap:conditions="Default.BackgroundGuide">Figure 1</MadCap:xref> The image below shows a lane with its corresponding lane profile. </p>
                <p>
                    <img src="../Resources/Images/LaneProfileExample.png" class="width050Border no-thumb" MadCap:conditions="Default.WebHelp" />
                </p>
                <p>To subtract background, a linear connection is drawn between consecutive local minima and background noise that falls beneath the lines is subtracted.</p>
                <p style="clear:both;">The <MadCap:snippetText src="../Resources/Snippets/Lane_noIS.flsnp" /> background method takes advantage of the known locations of shapes within a lane and selectively connects minima in the profile to account for variations in shape size, shape spacing, and image resolution. <MadCap:conditionalText MadCap:conditions="Default.BackgroundGuide"><MadCap:xref href="#BeforeAndAfterLaneSubtraction" class="XreftoParanum">Figure 2</MadCap:xref></MadCap:conditionalText> The image below shows a lane profile before and after <MadCap:snippetText src="../Resources/Snippets/Lane_noIS.flsnp" /> was used to subtract background.</p>
                <p style="clear: both;" MadCap:conditions="Default.WebHelp">
                    <img src="../Resources/Images/LaneProfileNoBgSubtracted.png" class="width100pctno-thumb" />
                </p>
                <div class="13mLeft" MadCap:conditions="Default.BackgroundGuide">
                    <img src="../Resources/Images/LaneProfileNoBgSubtracted.png" class="width100pct" />
                    <p class="figure"><a name="BeforeAndAfterLaneSubtraction"></a>. Graph representing a lane profile before (left) and after (right) the <MadCap:snippetText src="../Resources/Snippets/Lane_noIS.flsnp" /> method was used to subtract background.</p>
                </div>
                <p MadCap:conditions="Default.BackgroundGuide">
                    <MadCap:xref href="LaneBGOverview.htm" class="lwrSeeHypLnkAndPage">See <span style="color: Blue;"><u>Lane Background Method</u></span> on page&#160;1</MadCap:xref> for a complete explanation of the Lane background method.</p>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>Rolling Ball (ImageJ)</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <div class="dFloRig_12ptPadTopLefBot" MadCap:conditions="Default.BackgroundGuide">
                    <img src="../Resources/Images/OpticalDensityHistogramColored-withBlot.png" class="width050pct" />
                    <p class="figure" style="width: 3.125in;"><a name="OptDeltaHistogram"></a>. Pixel Intensity Histogram from a Western blot. In this schematic, the relationship between pixel intensity on a Western blot and peaks on a 3-dimensional surface plot can be seen.</p>
                </div>
                <p>To understand <MadCap:snippetText src="../Resources/Snippets/Rolling_ball.flsnp" />, imagine an image of a Western blot as a 3-dimensional histogram of <MadCap:snippetText src="../Resources/Snippets/pixel_intensity.flsnp" /><MadCap:conditionalText MadCap:conditions="Default.WebHelp">(see image below)</MadCap:conditionalText><MadCap:conditionalText MadCap:conditions="Default.BackgroundGuide">(see <MadCap:xref href="#OptDeltaHistogram" class="XreftoParanum">Figure 1</MadCap:xref>)</MadCap:conditionalText>. Shapes, areas of high pixel intensity, will be peaks on the histogram.</p>
                <p MadCap:conditions="Default.WebHelp">
                    <img src="../Resources/Images/OpticalDensityHistogramColored-withBlot.png" class="width075Border no-thumb" />
                </p>
                <p style="clear:both;">
                    <MadCap:snippetText src="../Resources/Snippets/Rolling_ball.flsnp" /> identifies background in an image by traversing a ball along the bottom surface of the pixel intensity histogram. The highest point where the ball can fit underneath the surface is considered the threshold for background subtraction at that point <MadCap:conditionalText MadCap:conditions="Default.WebHelp">(see image below)</MadCap:conditionalText><MadCap:conditionalText MadCap:conditions="Default.BackgroundGuide">(see <MadCap:xref href="#InvertedWorld" class="XreftoParanum">Figure 4</MadCap:xref>)</MadCap:conditionalText>.</p>
                <p style="clear: both;" MadCap:conditions="Default.WebHelp">
                    <img src="../Resources/Images/UpsideDownWesternSurface-3balls-laneOverlap-greyBg.png" class="width075Borderno-thumb" />
                </p>
                <div class="13mLeft" MadCap:conditions="Default.BackgroundGuide">
                    <img src="../Resources/Images/UpsideDownWesternSurface-3balls-laneOverlap-greyBg.png" class="width050pct" />
                    <p class="figure"><a name="InvertedWorld"></a>. Graphic showing a 3-dimensional representation of Rolling Ball background subtraction. The plot from <MadCap:xref href="#OptDeltaHistogram" class="XreftoParanum">Figure 3</MadCap:xref> has been inverted to display a rolling ball traversing a lane on the underside of the surface.</p>
                </div>
                <p style="clear: both;">When <MadCap:snippetText src="../Resources/Snippets/Rolling_ball.flsnp" /> is applied to a lane, a background curve is determined by traversing the ball beneath a lane profile representing the average pixel intensity across each row of pixels in a lane <MadCap:conditionalText MadCap:conditions="Default.WebHelp">(see image below)</MadCap:conditionalText><MadCap:conditionalText MadCap:conditions="Default.BackgroundGuide">(see <MadCap:xref href="#LaneAnalyzedRollBall" class="XreftoParanum">Figure 5</MadCap:xref>)</MadCap:conditionalText>.</p>
                <p style="clear: both;" MadCap:conditions="Default.WebHelp">
                    <img src="../Resources/Images/LaneAnlyzdRollBall.png" class="width075Borderno-thumb" />
                </p>
                <div class="13mLeft" MadCap:conditions="Default.BackgroundGuide">
                    <img src="../Resources/Images/LaneAnlyzdRollBall.png" class="width050pct" />
                    <p class="figure"><a name="LaneAnalyzedRollBall"></a>. When <MadCap:snippetText src="../Resources/Snippets/Rolling_ball.flsnp" /> is applied to a lane profile instead of an image, the algorithm can be represented in two dimensions by a circle traversing the bottom surface of the profile. The highest point the circle can reach at each point underneath the surface will be considered the threshold for background subtraction at that point. </p>
                </div>
                <!--
		<div class="dFloLef_12ptPadTopLefBot">
            <img src="Resources/Images/UpsideDownWesternSurface.tif" class="width050pct" />
        </div>
		-->
                <p>Whether <MadCap:snippetText src="../Resources/Snippets/Rolling_ball.flsnp" /> is applied to an entire image or a lane, an appropriate radius must be chosen for accurate results. The correct radius is dependent on many factors: image resolution, shape width, shape separation, and shape overlap. When choosing a radius, a quick rule of thumb is to make the radius the same size as the largest feature in the image or lane that is not part of the background. </p>
                <p>However, many factors that affect <MadCap:snippetText src="../Resources/Snippets/Rolling_ball.flsnp" />'s accuracy are likely to vary throughout an image, so applying <MadCap:snippetText src="../Resources/Snippets/Rolling_ball.flsnp" /> to an entire image is discouraged. Even within a lane, shapes that vary widely in size and shapes that overlap can decrease <MadCap:snippetText src="../Resources/Snippets/Rolling_ball.flsnp" />'s accuracy.</p>
                <p>When deciding if <MadCap:snippetText src="../Resources/Snippets/Rolling_ball.flsnp" /> is appropriate for a particular image, consider the description of <MadCap:snippetText src="../Resources/Snippets/Rolling_ball.flsnp" /> from the ImageJ documentation:</p>
                <p class="quoteBox">"Removes smooth continuous backgrounds from gels and other images"</p>
                <p class="citeQuoteBox">- ImageJ User Guide | <a href="http://rsbweb.nih.gov/ij/docs/guide/146-29.html"><span class="hyperLink">29.14 Subtract Background…</span> (acc. 9/15/16)</a></p>
                <p>If the background does not appear smooth and continuous, another approach may be necessary.</p>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>Lane Background and Rolling Ball Compared</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>The two primary differences between <MadCap:snippetText src="../Resources/Snippets/Rolling_ball.flsnp" /> and <MadCap:snippetText src="../Resources/Snippets/Lane.flsnp" /> background are:</p>
                <ol>
                    <li>Rolling ball requires a user to choose a radius for a ball that will be applied to individual lanes or to the entire image. <MadCap:snippetText src="../Resources/Snippets/Lane_noIS.flsnp" /> does not require user input to accurately subtract background.</li>
                    <li>
                        <MadCap:snippetText src="../Resources/Snippets/Rolling_ball.flsnp" /> can be applied to an entire image or a lane. <MadCap:snippetText src="../Resources/Snippets/Lane_noIS.flsnp" /> background is applied only to a lane.</li>
                </ol>
                <p class="note">When <MadCap:snippetText src="../Resources/Snippets/Rolling_ball.flsnp" /> is used to subtract background from an entire image, the image will visibly change. Background subtraction does not change the image's appearance in <MadCap:snippetText src="../Resources/Snippets/ImageStudioSoftware_noTM.flsnp" />, but background correction is still occurring (as long as <MadCap:snippetText src="../Resources/Snippets/None.flsnp" /> is not chosen).</p>
                <p>
                    <MadCap:snippetText src="../Resources/Snippets/Rolling_ball.flsnp" /> can be effective for subtracting background from images that have smooth and continuous backgrounds. However, it is difficult to accurately subtract background using <MadCap:snippetText src="../Resources/Snippets/Rolling_ball.flsnp" /> for lanes and images that have closely-spaced shapes or shapes with widely variable sizes.</p>
                <p>For example,<MadCap:conditionalText MadCap:conditions="Default.BackgroundGuide"><MadCap:xref href="#LaneProfile-RollingBall-LaneBg" class="XreftoParanum">Figure 2</MadCap:xref></MadCap:conditionalText><MadCap:conditionalText MadCap:conditions="Default.WebHelp"> the image below</MadCap:conditionalText> depicts a common scenario where <MadCap:snippetText src="../Resources/Snippets/Rolling_ball.flsnp" /> will overestimate the background value. Although the chosen ball radius might be appropriate for all the shapes in a lane, the ball will fit too far inside the double peak created by the two closely spaced shapes. Therefore, <MadCap:snippetText src="../Resources/Snippets/Rolling_ball.flsnp" /> will overestimate the background threshold (represented by the red line).</p>
                <p>By contrast, the <MadCap:snippetText src="../Resources/Snippets/Lane_noIS.flsnp" /> background method will trace a background threshold beneath the double peaks. <MadCap:snippetText src="../Resources/Snippets/Lane_noIS.flsnp" /> background does not use the local minimum between shapes B02 and B03 to create the background trace, because the algorithm avoids creating steep lines that would cut into a signal peak.</p>
                <p MadCap:conditions="Default.WebHelp">
                    <img src="../Resources/Images/ExampleLane3Bands.png" class="width050Border no-thumb" />
                </p>
                <div class="13mLeft" MadCap:conditions="Default.BackgroundGuide">
                    <img src="../Resources/Images/ExampleLane3Bands.png" class="width050pct" />
                    <p class="figure" style="width: 4.625in;"><a name="LaneProfile-RollingBall-LaneBg"></a>. The lane at left is represented as a lane profile shown at right. <MadCap:snippetText src="../Resources/Snippets/Rolling_ball.flsnp" /> will inaccurately calculate background between the two close together shapes at the bottom of the lane, because they appear together as one large peak in the lane profile.</p>
                </div>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
    </body>
</html>